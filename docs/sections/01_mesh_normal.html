<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>1. 頂点・辺・面と法線</title>
  <link rel="stylesheet" href="/CG_Document/sections.css" />
</head>
<body>
<header>
  <div class="container">
    <h1>1. 頂点・辺・面と法線</h1>
    <p class="subtitle">モデリングの最小単位から、光の計算に必要な法線までつなげる。</p>
    <nav class="top-links">
      <a href="/CG_Document/index.html">目次へ</a>
      <a href="/CG_Document/sections/02_smooth_shade.html">次へ</a>
    </nav>
  </div>
</header>
<main class="container">
  <section>
    <h2>頂点・辺・面は何を表すか</h2>
    <p>頂点は位置、辺は接続、面は表示される最小単位です。Blenderの編集はこの3要素の再配置で成立します。ExtrudeやLoop Cutも、本質的には面の追加と流れの制御です。</p>
    <img class="figure" src="/CG_Document/assets/point-line-face.svg" alt="頂点辺面" onerror="this.onerror=null;this.src='../assets/point-line-face.svg';" />
  </section>

  <section>
    <h2>面の向きが法線になる</h2>
    <p>面には向きがあり、その向きをベクトルで表したものが法線（Normal）です。三角形なら2本の辺の外積で方向が決まります。つまり、面の向きが陰影計算の入口です。</p>
    <div class="theory"><strong>理論メモ:</strong> 面法線は光との角度計算に使われます。向きが逆なら明るさ計算も逆転し、見え方が破綻します。</div>
    <div class="figure-inline" role="img" aria-label="面と法線">
      <svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
        <rect width="1200" height="700" fill="#f8fafc"/>
        <text x="60" y="80" font-family="Helvetica, Arial, sans-serif" font-size="44" fill="#0f172a">面と法線（Face &amp; Normal）</text>
        <rect x="70" y="130" width="1060" height="500" rx="24" fill="#ffffff" stroke="#cbd5e1"/>
        <polygon points="220,500 560,470 760,260 420,290" fill="#bfdbfe" stroke="#1d4ed8" stroke-width="6"/>
        <line x1="490" y1="380" x2="490" y2="180" stroke="#dc2626" stroke-width="10"/>
        <polygon points="490,150 470,190 510,190" fill="#dc2626"/>
        <text x="520" y="200" font-family="Helvetica, Arial, sans-serif" font-size="34" fill="#b91c1c">Normal</text>
        <circle cx="220" cy="500" r="10" fill="#2563eb"/>
        <circle cx="560" cy="470" r="10" fill="#2563eb"/>
        <circle cx="760" cy="260" r="10" fill="#2563eb"/>
        <circle cx="420" cy="290" r="10" fill="#2563eb"/>
        <text x="210" y="560" font-family="Helvetica, Arial, sans-serif" font-size="28" fill="#334155">Face</text>
        <text x="120" y="610" font-family="Helvetica, Arial, sans-serif" font-size="26" fill="#475569">面の向きが光計算の基準になる</text>
        <line x1="850" y1="230" x2="1030" y2="330" stroke="#f59e0b" stroke-width="10"/>
        <polygon points="1050,340 1005,340 1027,305" fill="#f59e0b"/>
        <text x="850" y="200" font-family="Helvetica, Arial, sans-serif" font-size="30" fill="#92400e">Light Direction</text>
      </svg>
    </div>
  </section>

  <section>
    <h2>Lambert拡散反射（最小モデル）</h2>
    <p>拡散反射の最小モデルは <code>I = max(0, N・L)</code> です。Nは法線、Lはライト方向です。NとLが揃うほど明るく、直交に近いほど暗くなります。</p>
    <img class="figure" src="/CG_Document/assets/diagrams/lambert-dotnl.svg" alt="Lambert" onerror="this.onerror=null;this.src='../assets/diagrams/lambert-dotnl.svg';" />
  </section>
</main>
</body>
</html>
